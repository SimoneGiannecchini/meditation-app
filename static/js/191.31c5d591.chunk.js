"use strict";(self.webpackChunkmeditation_app=self.webpackChunkmeditation_app||[]).push([[191],{715:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(43),s=a(579);const o=e=>{let{onDurationChange:t,onSaveSession:a}=e;const[o,i]=(0,n.useState)(5),[r,c]=(0,n.useState)(60*o),[l,u]=(0,n.useState)(!1);(0,n.useEffect)((()=>{t(o),c(60*o)}),[o]),(0,n.useEffect)((()=>{let e=null;return l&&r>0?e=setInterval((()=>{c((e=>e-1))}),1e3):clearInterval(e),()=>clearInterval(e)}),[l,r]);return(0,s.jsxs)("div",{className:"timer",children:[(0,s.jsxs)("p",{children:["Selected Duration: ",o," Minutes"]}),(0,s.jsxs)("p",{children:["Time Remaining: ",Math.floor(r/60),":",(r%60).toString().padStart(2,"0")]}),(0,s.jsxs)("div",{className:"buttons",children:[(0,s.jsx)("button",{onClick:()=>i((e=>Math.max(1,e-1))),children:"-"}),(0,s.jsx)("button",{onClick:()=>i((e=>e+1)),children:"+"})]}),(0,s.jsxs)("div",{className:"controls",children:[(0,s.jsx)("button",{onClick:()=>u(!0),children:"Start"}),(0,s.jsx)("button",{onClick:()=>u(!1),children:"Pausa"}),(0,s.jsx)("button",{onClick:()=>{u(!1),c(60*o)},children:"Reset"}),(0,s.jsx)("button",{onClick:a,children:"Save Session"})]})]})};var i=a(546),r=a(806),c=a(213);const l=e=>{let{onQuoteChange:t}=e;const[a,o]=(0,n.useState)("Caricamento frase..."),[l,u]=(0,n.useState)(0),d=()=>{c.A.get("https://api.allorigins.win/get?url="+encodeURIComponent("https://zenquotes.io/api/random")).then((e=>{const a=JSON.parse(e.data.contents),n=`${a[0].q} \u2014 ${a[0].a}`;o(n),u((e=>e+1)),t&&t(n)})).catch((()=>{const e="Non riesco a caricare la frase. Respira comunque.";o(e),t&&t(e)}))};return(0,n.useEffect)((()=>{d();const e=setInterval(d,3e4);return()=>clearInterval(e)}),[]),(0,s.jsxs)("div",{className:"quote-box",children:[(0,s.jsx)(i.N,{mode:"wait",children:(0,s.jsx)(r.P.p,{className:"quote",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:1},children:a},l)}),(0,s.jsxs)("p",{className:"quote-source",children:["Inspirational quotes provided by"," ",(0,s.jsx)("a",{href:"https://zenquotes.io/",target:"_blank",rel:"noopener noreferrer",children:"ZenQuotes API"})]})]})},u=(e,t)=>{const a=(0,n.useRef)(new Audio(e));return(0,n.useEffect)((()=>{const e=a.current;return e.loop=!0,t?e.play():e.pause(),()=>e.pause()}),[t,e]),a.current},d=a.p+"static/media/forest.305c6546f835f297dbe7.mp3";const p=(0,a(64).Wp)({apiKey:"AIzaSyBnjuAgPRGuTqa-iSrIkQaSyslgp-ygqnc",authDomain:"meditazione-2f938.firebaseapp.com",projectId:"meditazione-2f938",storageBucket:"meditazione-2f938.firebasestorage.app",messagingSenderId:"390151791636",appId:"1:390151791636:web:eca61605bab28a4c4d7301"});var h=a(472);a(448);const m=()=>{const[e,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(""),[r,c]=(0,n.useState)(5),m=(0,h.aU)(p);u(d,e);return(0,s.jsxs)("div",{className:"page-meditation",children:[(0,s.jsx)("h1",{children:"Meditation Space"}),!e&&(0,s.jsx)("button",{onClick:()=>t(!0),className:"zen-button",children:"Start Music"}),(0,s.jsx)(l,{onQuoteChange:e=>{i(e)}}),(0,s.jsx)(o,{onDurationChange:c,onSaveSession:async()=>{try{await(0,h.gS)((0,h.rJ)(m,"meditationSessions"),{date:new Date,durationInMinutes:r,meditationType:"forestSound",motivationalQuote:a}),alert("Sessione salvata!")}catch(e){console.error("Errore durante il salvataggio:",e)}}})]})}}}]);
//# sourceMappingURL=191.31c5d591.chunk.js.map